(this["webpackJsonppizza-react-redux"]=this["webpackJsonppizza-react-redux"]||[]).push([[3],{103:function(e,s,a){},104:function(e,s,a){},105:function(e,s,a){},106:function(e,s,a){},115:function(e,s,a){"use strict";a.r(s);var t=a(23),n=a(2),i=a(15),o=a(16),r=a(19),c=a(18),l=a(1),d=a.n(l),m=(a(103),a(104),a(105),a(0)),u=function(e){var s=null;switch(e.ingType){case"mozzarella":s=Object(m.jsx)("div",{className:"mozzarella"});break;case"havarti":s=Object(m.jsx)("div",{className:"havarti"});break;case"goatCheese":s=Object(m.jsx)("div",{className:"goat-cheese"});break;case"salmon":s=Object(m.jsx)("div",{className:"salmon",children:Object(m.jsxs)("div",{className:"salmon__content",children:[Object(m.jsx)("div",{className:"salmon--1"}),Object(m.jsx)("div",{className:"salmon--2"}),Object(m.jsx)("div",{className:"salmon--3"}),Object(m.jsx)("div",{className:"salmon--4"}),Object(m.jsx)("div",{className:"salmon--5"}),Object(m.jsx)("div",{className:"salmon--6"})]})});break;case"bacon":s=Object(m.jsx)("div",{className:"bacon",children:Object(m.jsxs)("div",{className:"bacon__content",children:[Object(m.jsx)("div",{className:"bacon--1"}),Object(m.jsx)("div",{className:"bacon--2"}),Object(m.jsx)("div",{className:"bacon--3"}),Object(m.jsx)("div",{className:"bacon--4"}),Object(m.jsx)("div",{className:"bacon--5"}),Object(m.jsx)("div",{className:"bacon--6"}),Object(m.jsx)("div",{className:"bacon--7"}),Object(m.jsx)("div",{className:"bacon--8"})]})});break;case"mushrooms":s=Object(m.jsx)("div",{className:"shrooms",children:Object(m.jsxs)("div",{className:"shrooms__content",children:[Object(m.jsx)("div",{className:"shrooms--1"}),Object(m.jsx)("div",{className:"shrooms--2"}),Object(m.jsx)("div",{className:"shrooms--3"}),Object(m.jsx)("div",{className:"shrooms--4"})]})});break;case"olives":s=Object(m.jsx)("div",{className:"olives",children:Object(m.jsxs)("div",{className:"olives__content",children:[Object(m.jsx)("div",{className:"olives--1"}),Object(m.jsx)("div",{className:"olives--2"}),Object(m.jsx)("div",{className:"olives--3"}),Object(m.jsx)("div",{className:"olives--4"}),Object(m.jsx)("div",{className:"olives--5"}),Object(m.jsx)("div",{className:"olives--6"}),Object(m.jsx)("div",{className:"olives--7"}),Object(m.jsx)("div",{className:"olives--8"}),Object(m.jsx)("div",{className:"olives--9"}),Object(m.jsx)("div",{className:"olives--10"})]})});break;default:s=null}return s},b=function(e){var s,a=[];for(var t in e.ingredients)"cheeses"!==t&&"addition"!==t&&e.ingredients[t]&&a.push(t);for(var n in e.ingredients.cheeses)e.ingredients.cheeses[n]&&(s=Object(m.jsx)(u,{ingType:n}));return Object(m.jsx)("div",{className:"pizza-build",children:Object(m.jsxs)("div",{className:"pizza-build__crust",children:[s,a.map((function(e){return Object(m.jsx)(u,{ingType:e},e)}))]})})},j=(a(106),function(e){return Object(m.jsxs)("div",{className:"pizza-controls",children:[Object(m.jsxs)("p",{className:"pizza-controls__price",children:["Current price: $",Object(m.jsx)("span",{children:e.currentPizzaPrice.toFixed(2)})]}),Object(m.jsxs)("div",{className:"pizza-controls__buttons",children:[Object(m.jsxs)("div",{className:"pizza-controls__cheeses pizza-controls__control",children:[Object(m.jsx)("label",{htmlFor:"cheeses",className:"pizza-controls__label pizza-controls__label--cheeses",children:"cheeses"}),Object(m.jsxs)("select",{name:"cheeses",onChange:function(s){return e.cheeseAdded(s.target.value)},children:[Object(m.jsx)("option",{value:"mozzarella",children:"mozzarella"}),Object(m.jsx)("option",{value:"havarti",children:"havarti"}),Object(m.jsx)("option",{value:"goatCheese",children:"goat"})]})]}),Object(m.jsxs)("div",{className:"pizza-controls__control pizza-controls__salmon",children:[Object(m.jsx)("p",{className:"pizza-controls__label pizza-controls__label--salmon",children:"salmon"}),Object(m.jsx)("button",{className:"pizza-controls__btn btn-remove",disabled:!e.disabled.salmon,onClick:function(){return e.ingredientRemoved("salmon")},children:"remove"}),Object(m.jsx)("button",{className:"pizza-controls__btn btn-add",disabled:e.disabled.salmon,onClick:function(){return e.ingredientAdded("salmon")},children:"add"})]}),Object(m.jsxs)("div",{className:"pizza-controls__control pizza-controls__bacon",children:[Object(m.jsx)("p",{className:"pizza-controls__label pizza-controls__label--bacon",children:"bacon"}),Object(m.jsx)("button",{className:"pizza-controls__btn btn-remove",disabled:!e.disabled.bacon,onClick:function(){return e.ingredientRemoved("bacon")},children:"remove"}),Object(m.jsx)("button",{className:"pizza-controls__btn btn-add",disabled:e.disabled.bacon,onClick:function(){return e.ingredientAdded("bacon")},children:"add"})]}),Object(m.jsxs)("div",{className:"pizza-controls__control pizza-controls__mushrooms",children:[Object(m.jsx)("p",{className:"pizza-controls__label pizza-controls__label--mushrooms",children:"mushrooms"}),Object(m.jsx)("button",{className:"pizza-controls__btn btn-remove",disabled:!e.disabled.mushrooms,onClick:function(){return e.ingredientRemoved("mushrooms")},children:"remove"}),Object(m.jsx)("button",{className:"pizza-controls__btn btn-add",disabled:e.disabled.mushrooms,onClick:function(){return e.ingredientAdded("mushrooms")},children:"add"})]}),Object(m.jsxs)("div",{className:"pizza-controls__control pizza-controls__olives",children:[Object(m.jsx)("p",{className:"pizza-controls__label pizza-controls__label--olives",children:"olives"}),Object(m.jsx)("button",{className:"pizza-controls__btn btn-remove",disabled:!e.disabled.olives,onClick:function(){return e.ingredientRemoved("olives")},children:"remove"}),Object(m.jsx)("button",{className:"pizza-controls__btn btn-add",disabled:e.disabled.olives,onClick:function(){return e.ingredientAdded("olives")},children:"add"})]}),Object(m.jsxs)("div",{className:"pizza-controls__control pizza-controls__addition",children:[Object(m.jsx)("label",{htmlFor:"addition",className:"pizza-controls__label pizza-controls__label--cheeses",children:"additions"}),Object(m.jsxs)("select",{name:"addition",onChange:function(s){return e.additionAdded(s.target.value)},children:[Object(m.jsx)("option",{value:""}),Object(m.jsx)("option",{value:"ketchup",children:"ketchup"}),Object(m.jsx)("option",{value:"mayo",children:"mayo"})]})]})]})]})}),p=a(17),h=a(14),v=a(32),z=a(90),O=a(92),x=function(e){Object(r.a)(a,e);var s=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=s.call.apply(s,[this].concat(r))).state={modalOpen:!1,orderForm:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name"},validation:{required:!0},touched:!1,value:""},street:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Street"},validation:{required:!0},touched:!1,value:""},phone:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Phone Number"},validation:{required:!0},touched:!1,value:""}},formIsValid:!1},e.checkInputValidity=function(e,s){var a=!0;if(e.required&&(a=""!==s.trim()&&a),e.minLength&&(a=s.length>=e.minLength&&a),e.isEmail){a=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(s)&&a}return a},e.inputChangedHandler=function(s,a){var i=Object(n.a)(Object(n.a)({},e.state.orderForm),{},Object(t.a)({},a,Object(n.a)(Object(n.a)({},e.state.orderForm[a]),{},{touched:!0,value:s.target.value,valid:e.checkInputValidity(e.state.orderForm[a].validation,s.target.value)}))),o=!0;for(var r in i)o=i[r].valid&&o;e.setState({orderForm:i,formIsValid:o})},e.formSubmitHandler=function(s){s.preventDefault(),e.props.isAuthenticated?e.setState({modalOpen:!0}):e.props.history.replace("/sign-up")},e.closeModalHandler=function(){e.setState({modalOpen:!1})},e.orderPizzaHandler=function(){var s={ingredients:{}};for(var a in e.props.ingredients.cheeses)e.props.ingredients.cheeses[a]&&(s.cheese=a);for(var t in e.props.ingredients)"cheeses"!==t&&"addition"!==t&&e.props.ingredients[t]&&(s.ingredients[t]="added");s.customerInfo={name:e.state.orderForm.name.value,street:e.state.orderForm.street.value,phone:e.state.orderForm.phone.value},s.additions=e.props.ingredients.addition,s.totalPrice=e.props.currentPrice,e.props.onOrderPizza(s),e.closeModalHandler()},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){!1===this.props.ingredients.cheeses.mozzarella&&this.props.onManageCheeses("mozzarella")}},{key:"render",value:function(){var e=this,s=Object(n.a)({},this.props.ingredients);for(var a in s)"cheeses"!==a&&(s[a]=!!s[a]);var t=[],i=[];for(var o in this.props.ingredients.cheeses)i.push({id:o,name:o,isOrdered:this.props.ingredients.cheeses[o]});for(var r in this.props.ingredients)"cheeses"!==r&&"addition"!==r&&this.props.ingredients[r]&&t.push({id:r,name:r});var c=i.concat(t),l=this.props.ingredients.addition,u=[];for(var p in this.state.orderForm)u.push({id:p,details:this.state.orderForm[p]});return Object(m.jsxs)(d.a.Fragment,{children:[Object(m.jsx)("div",{className:"pizza-maker__order-finished",style:{display:this.props.orderSuccess?"block":"none"},children:"Your order have been successfull! See you in no time!"}),Object(m.jsxs)(v.a,{modalOpen:this.state.modalOpen,closeModal:this.closeModalHandler,cancelled:this.closeModalHandler,continued:this.orderPizzaHandler,children:[Object(m.jsx)("h2",{children:"Your ingredients:"}),Object(m.jsxs)("ul",{style:{listStyle:"disc",textAlign:"left",padding:"2rem"},children:[c.map((function(e){return Object(m.jsx)("li",{children:e.name},e.id)})),Object(m.jsxs)("li",{children:["additions: ",l]})]}),Object(m.jsxs)("p",{children:["Total Price: $",this.props.currentPrice.toFixed(2)]})]}),Object(m.jsx)("h1",{className:"pizza-maker__title",children:"pizza maker"}),Object(m.jsxs)("section",{className:"pizza-maker__content",children:[Object(m.jsx)("p",{className:"pizza-maker__content-info",children:"This is our pizza maker app. You can choose ingredients manually, according to your tastes, make up your prefered pizza model, order it, and we will make it for you for real. Note that you can have only one type of cheese on your pizza. Additions are free."}),Object(m.jsxs)("article",{className:"pizza-maker__maker",children:[Object(m.jsx)(b,{ingredients:this.props.ingredients}),Object(m.jsx)(j,{disabled:s,currentPizzaPrice:this.props.currentPrice,ingredientAdded:this.props.onAddIngredient,ingredientRemoved:this.props.onRemoveIngredient,cheeseAdded:this.props.onManageCheeses,additionAdded:this.props.onManageAdditions})]}),Object(m.jsxs)("div",{className:"pizza-maker__form",children:[Object(m.jsx)("h4",{className:"pizza-maker__form-title",children:"enter your order info"}),Object(m.jsx)(z.a,{formCustomClassname:"pizza-maker",formButtonText:this.props.isAuthenticated?"order now":"sign up to order",submitBtnDisabled:this.state.formIsValid,submitForm:this.formSubmitHandler,children:u.map((function(s){return Object(m.jsx)(O.a,{elementType:s.details.elementType,elementConfig:s.details.elementConfig,value:s.details.value,touched:s.details.touched,validationRequired:s.details.validation,valid:s.details.valid,inputChanged:function(a){return e.inputChangedHandler(a,s.id)}},s.id)}))})]})]})]})}}]),a}(l.Component);s.default=Object(p.b)((function(e){return{ingredients:e.pizzaMaker.ingredients,currentPrice:e.pizzaMaker.currentPrice,orderSuccess:e.pizzaMaker.orderSuccess,isAuthenticated:null!==e.authenticate.token}}),(function(e){return{onAddIngredient:function(s){return e(h.a(s))},onRemoveIngredient:function(s){return e(h.p(s))},onManageCheeses:function(s){return e(h.l(s))},onManageAdditions:function(s){return e(h.k(s))},onOrderPizza:function(s){return e(h.n(s))}}}))(x)},90:function(e,s,a){"use strict";a(1),a(91);var t=a(0);s.a=function(e){return Object(t.jsxs)("form",{className:"form form__".concat(e.formCustomClassname),onSubmit:e.submitForm,children:[e.children,Object(t.jsx)("button",{className:"form__button",disabled:!e.submitBtnDisabled,children:e.formButtonText})]})}},91:function(e,s,a){},92:function(e,s,a){"use strict";var t=a(2),n=(a(1),a(93),a(0));s.a=function(e){var s=null,a=["form-input"];switch(e.validationRequired&&e.touched&&!e.valid&&a.push("input-invalid"),e.valid&&a.push("input-valid"),e.elementType){case"input":s=Object(n.jsx)("input",Object(t.a)(Object(t.a)({className:a.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.inputChanged}));break;case"select":s=Object(n.jsx)("select",{value:e.value,className:a.join(" "),name:e.elementConfig.name,onChange:e.inputChanged,children:e.elementConfig.options.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.displayedValue},e.value)}))});break;case"textarea":s=Object(n.jsx)("textarea",Object(t.a)(Object(t.a)({className:a.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.inputChanged}));break;default:s=Object(n.jsx)("input",{})}return Object(n.jsxs)("div",{className:"input-container",children:[e.label?Object(n.jsx)("label",{className:"input-label",children:e.label}):null,s]})}},93:function(e,s,a){}}]);
//# sourceMappingURL=3.94f45ee1.chunk.js.map