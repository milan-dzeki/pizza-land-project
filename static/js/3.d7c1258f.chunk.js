(this["webpackJsonppizza-react-redux"]=this["webpackJsonppizza-react-redux"]||[]).push([[3],{105:function(e,s,a){},106:function(e,s,a){},107:function(e,s,a){},108:function(e,s,a){},117:function(e,s,a){"use strict";a.r(s);var t=a(23),n=a(2),i=a(15),r=a(16),o=a(19),c=a(18),l=a(1),d=a.n(l),u=(a(105),a(106),a(107),a(0)),m=function(e){var s=null;switch(e.ingType){case"mozzarella":s=Object(u.jsx)("div",{className:"mozzarella"});break;case"havarti":s=Object(u.jsx)("div",{className:"havarti"});break;case"goatCheese":s=Object(u.jsx)("div",{className:"goat-cheese"});break;case"salmon":s=Object(u.jsx)("div",{className:"salmon",children:Object(u.jsxs)("div",{className:"salmon__content",children:[Object(u.jsx)("div",{className:"salmon--1"}),Object(u.jsx)("div",{className:"salmon--2"}),Object(u.jsx)("div",{className:"salmon--3"}),Object(u.jsx)("div",{className:"salmon--4"}),Object(u.jsx)("div",{className:"salmon--5"}),Object(u.jsx)("div",{className:"salmon--6"})]})});break;case"bacon":s=Object(u.jsx)("div",{className:"bacon",children:Object(u.jsxs)("div",{className:"bacon__content",children:[Object(u.jsx)("div",{className:"bacon--1"}),Object(u.jsx)("div",{className:"bacon--2"}),Object(u.jsx)("div",{className:"bacon--3"}),Object(u.jsx)("div",{className:"bacon--4"}),Object(u.jsx)("div",{className:"bacon--5"}),Object(u.jsx)("div",{className:"bacon--6"}),Object(u.jsx)("div",{className:"bacon--7"}),Object(u.jsx)("div",{className:"bacon--8"})]})});break;case"mushrooms":s=Object(u.jsx)("div",{className:"shrooms",children:Object(u.jsxs)("div",{className:"shrooms__content",children:[Object(u.jsx)("div",{className:"shrooms--1"}),Object(u.jsx)("div",{className:"shrooms--2"}),Object(u.jsx)("div",{className:"shrooms--3"}),Object(u.jsx)("div",{className:"shrooms--4"})]})});break;case"olives":s=Object(u.jsx)("div",{className:"olives",children:Object(u.jsxs)("div",{className:"olives__content",children:[Object(u.jsx)("div",{className:"olives--1"}),Object(u.jsx)("div",{className:"olives--2"}),Object(u.jsx)("div",{className:"olives--3"}),Object(u.jsx)("div",{className:"olives--4"}),Object(u.jsx)("div",{className:"olives--5"}),Object(u.jsx)("div",{className:"olives--6"}),Object(u.jsx)("div",{className:"olives--7"}),Object(u.jsx)("div",{className:"olives--8"}),Object(u.jsx)("div",{className:"olives--9"}),Object(u.jsx)("div",{className:"olives--10"})]})});break;default:s=null}return s},b=function(e){var s,a=[];for(var t in e.ingredients)"cheeses"!==t&&"addition"!==t&&e.ingredients[t]&&a.push(t);for(var n in e.ingredients.cheeses)e.ingredients.cheeses[n]&&(s=Object(u.jsx)(m,{ingType:n}));return Object(u.jsx)("div",{className:"pizza-build",children:Object(u.jsxs)("div",{className:"pizza-build__crust",children:[s,a.map((function(e){return Object(u.jsx)(m,{ingType:e},e)}))]})})},j=(a(108),function(e){return Object(u.jsxs)("div",{className:"pizza-controls",children:[Object(u.jsxs)("p",{className:"pizza-controls__price",children:["Current price: $",Object(u.jsx)("span",{children:e.currentPizzaPrice.toFixed(2)})]}),Object(u.jsxs)("div",{className:"pizza-controls__buttons",children:[Object(u.jsxs)("div",{className:"pizza-controls__cheeses pizza-controls__control",children:[Object(u.jsx)("label",{htmlFor:"cheeses",className:"pizza-controls__label pizza-controls__label--cheeses",children:"cheeses"}),Object(u.jsxs)("select",{name:"cheeses",onChange:function(s){return e.cheeseAdded(s.target.value)},children:[Object(u.jsx)("option",{value:"mozzarella",children:"mozzarella"}),Object(u.jsx)("option",{value:"havarti",children:"havarti"}),Object(u.jsx)("option",{value:"goatCheese",children:"goat"})]})]}),Object(u.jsxs)("div",{className:"pizza-controls__control pizza-controls__salmon",children:[Object(u.jsx)("p",{className:"pizza-controls__label pizza-controls__label--salmon",children:"salmon"}),Object(u.jsx)("button",{className:"pizza-controls__btn btn-remove",disabled:!e.disabled.salmon,onClick:function(){return e.ingredientRemoved("salmon")},children:"remove"}),Object(u.jsx)("button",{className:"pizza-controls__btn btn-add",disabled:e.disabled.salmon,onClick:function(){return e.ingredientAdded("salmon")},children:"add"})]}),Object(u.jsxs)("div",{className:"pizza-controls__control pizza-controls__bacon",children:[Object(u.jsx)("p",{className:"pizza-controls__label pizza-controls__label--bacon",children:"bacon"}),Object(u.jsx)("button",{className:"pizza-controls__btn btn-remove",disabled:!e.disabled.bacon,onClick:function(){return e.ingredientRemoved("bacon")},children:"remove"}),Object(u.jsx)("button",{className:"pizza-controls__btn btn-add",disabled:e.disabled.bacon,onClick:function(){return e.ingredientAdded("bacon")},children:"add"})]}),Object(u.jsxs)("div",{className:"pizza-controls__control pizza-controls__mushrooms",children:[Object(u.jsx)("p",{className:"pizza-controls__label pizza-controls__label--mushrooms",children:"mushrooms"}),Object(u.jsx)("button",{className:"pizza-controls__btn btn-remove",disabled:!e.disabled.mushrooms,onClick:function(){return e.ingredientRemoved("mushrooms")},children:"remove"}),Object(u.jsx)("button",{className:"pizza-controls__btn btn-add",disabled:e.disabled.mushrooms,onClick:function(){return e.ingredientAdded("mushrooms")},children:"add"})]}),Object(u.jsxs)("div",{className:"pizza-controls__control pizza-controls__olives",children:[Object(u.jsx)("p",{className:"pizza-controls__label pizza-controls__label--olives",children:"olives"}),Object(u.jsx)("button",{className:"pizza-controls__btn btn-remove",disabled:!e.disabled.olives,onClick:function(){return e.ingredientRemoved("olives")},children:"remove"}),Object(u.jsx)("button",{className:"pizza-controls__btn btn-add",disabled:e.disabled.olives,onClick:function(){return e.ingredientAdded("olives")},children:"add"})]}),Object(u.jsxs)("div",{className:"pizza-controls__control pizza-controls__addition",children:[Object(u.jsx)("label",{htmlFor:"addition",className:"pizza-controls__label pizza-controls__label--cheeses",children:"additions"}),Object(u.jsxs)("select",{name:"addition",onChange:function(s){return e.additionAdded(s.target.value)},children:[Object(u.jsx)("option",{value:""}),Object(u.jsx)("option",{value:"ketchup",children:"ketchup"}),Object(u.jsx)("option",{value:"mayo",children:"mayo"})]})]})]})]})}),p=a(17),h=a(14),v=a(32),z=a(90),O=a(92),x=a(94),f=function(e){Object(o.a)(a,e);var s=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=s.call.apply(s,[this].concat(o))).state={modalOpen:!1,orderForm:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name"},validation:{required:!0},touched:!1,value:""},street:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Street"},validation:{required:!0},touched:!1,value:""},phone:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Phone Number"},validation:{required:!0},touched:!1,value:""}},formIsValid:!1},e.checkInputValidity=function(e,s){var a=!0;if(e.required&&(a=""!==s.trim()&&a),e.minLength&&(a=s.length>=e.minLength&&a),e.isEmail){a=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(s)&&a}return a},e.inputChangedHandler=function(s,a){var i=Object(n.a)(Object(n.a)({},e.state.orderForm),{},Object(t.a)({},a,Object(n.a)(Object(n.a)({},e.state.orderForm[a]),{},{touched:!0,value:s.target.value,valid:e.checkInputValidity(e.state.orderForm[a].validation,s.target.value)}))),r=!0;for(var o in i)r=i[o].valid&&r;e.setState({orderForm:i,formIsValid:r})},e.formSubmitHandler=function(s){s.preventDefault(),e.props.isAuthenticated?e.setState({modalOpen:!0}):e.props.history.replace("/sign-up")},e.closeModalHandler=function(){e.setState({modalOpen:!1})},e.orderPizzaHandler=function(){var s={ingredients:{}};for(var a in e.props.ingredients.cheeses)e.props.ingredients.cheeses[a]&&(s.cheese=a);for(var t in e.props.ingredients)"cheeses"!==t&&"addition"!==t&&e.props.ingredients[t]&&(s.ingredients[t]="added");s.customerInfo={name:e.state.orderForm.name.value,street:e.state.orderForm.street.value,phone:e.state.orderForm.phone.value},s.additions=e.props.ingredients.addition,s.totalPrice=e.props.currentPrice,e.props.onOrderPizza(s),e.closeModalHandler()},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.onOrderCustomInit(),!1===this.props.ingredients.cheeses.mozzarella&&this.props.onManageCheeses("mozzarella")}},{key:"componentDidUpdate",value:function(){!this.props.orderSuccess&&this.props.ordered&&this.props.history.replace("/")}},{key:"render",value:function(){var e=this,s=Object(n.a)({},this.props.ingredients);for(var a in s)"cheeses"!==a&&(s[a]=!!s[a]);var t=[],i=[];for(var r in this.props.ingredients.cheeses)i.push({id:r,name:r,isOrdered:this.props.ingredients.cheeses[r]});for(var o in this.props.ingredients)"cheeses"!==o&&"addition"!==o&&this.props.ingredients[o]&&t.push({id:o,name:o});var c=i.concat(t),l=this.props.ingredients.addition,m=[];for(var p in this.state.orderForm)m.push({id:p,details:this.state.orderForm[p]});var h=m.map((function(s){return Object(u.jsx)(O.a,{elementType:s.details.elementType,elementConfig:s.details.elementConfig,value:s.details.value,touched:s.details.touched,validationRequired:s.details.validation,valid:s.details.valid,inputChanged:function(a){return e.inputChangedHandler(a,s.id)}},s.id)}));return this.props.isAuthenticated||(h=null),Object(u.jsxs)(d.a.Fragment,{children:[Object(u.jsx)(x.a,{errorShow:this.props.error,errorClicked:this.props.onOrderCustomInit,children:"Order failed. Try again later, or order directly via phone."}),Object(u.jsx)("div",{className:"pizza-maker__order-finished",style:{display:this.props.orderSuccess?"block":"none"},children:"Your order have been successfull! See you in no time!"}),Object(u.jsxs)(v.a,{modalOpen:this.state.modalOpen,closeModal:this.closeModalHandler,cancelled:this.closeModalHandler,continued:this.orderPizzaHandler,children:[Object(u.jsx)("h2",{children:"Your ingredients:"}),Object(u.jsxs)("ul",{style:{listStyle:"disc",textAlign:"left",padding:"2rem"},children:[c.map((function(e){return Object(u.jsx)("li",{children:e.name},e.id)})),Object(u.jsxs)("li",{children:["additions: ",l]})]}),Object(u.jsxs)("p",{children:["Total Price: $",this.props.currentPrice.toFixed(2)]})]}),Object(u.jsx)("h1",{className:"pizza-maker__title",children:"pizza maker"}),Object(u.jsxs)("section",{className:"pizza-maker__content",children:[Object(u.jsx)("p",{className:"pizza-maker__content-info",children:"This is our pizza maker app. You can choose ingredients manually, according to your tastes, make up your prefered pizza model, order it, and we will make it for you for real. Note that you can have only one type of cheese on your pizza. Additions are free."}),Object(u.jsxs)("article",{className:"pizza-maker__maker",children:[Object(u.jsx)(b,{ingredients:this.props.ingredients}),Object(u.jsx)(j,{disabled:s,currentPizzaPrice:this.props.currentPrice,ingredientAdded:this.props.onAddIngredient,ingredientRemoved:this.props.onRemoveIngredient,cheeseAdded:this.props.onManageCheeses,additionAdded:this.props.onManageAdditions})]}),Object(u.jsxs)("div",{className:"pizza-maker__form",children:[Object(u.jsx)("h4",{className:"pizza-maker__form-title",children:"enter your order info"}),Object(u.jsx)(z.a,{formCustomClassname:"pizza-maker",formButtonText:this.props.isAuthenticated?"order now":"sign up to order",submitBtnDisabled:null===h||this.state.formIsValid,submitForm:this.formSubmitHandler,children:h})]})]})]})}}]),a}(l.Component);s.default=Object(p.b)((function(e){return{ingredients:e.pizzaMaker.ingredients,currentPrice:e.pizzaMaker.currentPrice,orderSuccess:e.pizzaMaker.orderSuccess,isAuthenticated:null!==e.authenticate.token,ordered:e.pizzaMaker.ordered,loading:e.pizzaMaker.loading,error:e.pizzaMaker.error}}),(function(e){return{onAddIngredient:function(s){return e(h.a(s))},onRemoveIngredient:function(s){return e(h.u(s))},onManageCheeses:function(s){return e(h.o(s))},onManageAdditions:function(s){return e(h.n(s))},onOrderCustomInit:function(){return e(h.q())},onOrderPizza:function(s){return e(h.r(s))}}}))(f)},90:function(e,s,a){"use strict";a(1),a(91);var t=a(0);s.a=function(e){return Object(t.jsxs)("form",{className:"form form__".concat(e.formCustomClassname),onSubmit:e.submitForm,children:[e.children,Object(t.jsx)("button",{className:"form__button",disabled:!e.submitBtnDisabled,children:e.formButtonText})]})}},91:function(e,s,a){},92:function(e,s,a){"use strict";var t=a(2),n=(a(1),a(93),a(0));s.a=function(e){var s=null,a=["form-input"];switch(e.validationRequired&&e.touched&&!e.valid&&a.push("input-invalid"),e.valid&&a.push("input-valid"),e.elementType){case"input":s=Object(n.jsx)("input",Object(t.a)(Object(t.a)({className:a.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.inputChanged}));break;case"select":s=Object(n.jsx)("select",{value:e.value,className:a.join(" "),name:e.elementConfig.name,onChange:e.inputChanged,children:e.elementConfig.options.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.displayedValue},e.value)}))});break;case"textarea":s=Object(n.jsx)("textarea",Object(t.a)(Object(t.a)({className:a.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.inputChanged}));break;default:s=Object(n.jsx)("input",{})}return Object(n.jsxs)("div",{className:"input-container",children:[e.label?Object(n.jsx)("label",{className:"input-label",children:e.label}):null,s]})}},93:function(e,s,a){},94:function(e,s,a){"use strict";a(1),a(95);var t=a(0);s.a=function(e){return Object(t.jsxs)("div",{className:e.errorShow?"error-modal error-show":"error-modal",children:[Object(t.jsx)("p",{className:"error-modal__text",children:e.children}),Object(t.jsx)("button",{className:"error-modal__btn",onClick:e.errorClicked,children:"OK"})]})}},95:function(e,s,a){}}]);
//# sourceMappingURL=3.d7c1258f.chunk.js.map